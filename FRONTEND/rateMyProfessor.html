<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Rate my professor</title>
    <link rel="stylesheet" href="styles/style.css" />
    <script
      type="module"
      src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"
    ></script>
    <script
      nomodule
      src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"
    ></script>
    <script src="scripts/review.js"></script>
  </head> 
  <body onload="initData()">
    <div class="header">
      <h1 id="headerContent">Calificando:</h1>
      <b id="headerSubContent" style="font-size: 22px">Departamento de </b> 
      <b style="font-size: 25px;">⋅</b> 
      <a id="professorProfile" style="color: #bbb" href="">Perfil del profesor<ion-icon style="font-size:20px; padding-left: 6px; vertical-align: middle;" name="person-sharp"></ion-icon></a>
    </div>

    <form id="regForm">
      <br /><br /><br /><br /><br /><br /><br /><br />
      <div class="box">
        <div style="width: 825px">
          <h3>Selecciona la materia *</h3>
        </div>
        <div class="custom-select">
          <select id="courseCode" required>
            <option value="" selected disabled hidden>
              Seleccionar materia</option>  
         
          </select>
        </div>
        <div class="center">
          <input  id="onlineCourse" style="cursor: pointer" type="checkbox" />
          <p>
            <ion-icon
              style="padding: 0 5px 0 5px; vertical-align: middle"
              name="desktop-outline"
            ></ion-icon>
          </p>
          Este es un curso online
        </div>
      </div>

      <div class="box">
        <div style="width: 825px"><h3>Califica a tu profesor *</h3></div>
        <div class="rating">
          <input
            type="radio"
            value="5"
            name="rating"
            id="rate5"
            required
          /><label for="rate5" id="rateLabel5">5</label>
          <input type="radio" value="4" name="rating" id="rate4" /><label
            for="rate4"
            >4</label
          >
          <input type="radio" value="3" name="rating" id="rate3" /><label
            for="rate3"
            >3</label
          >
          <input type="radio" value="2" name="rating" id="rate2" /><label
            for="rate2"
            >2</label
          >
          <input type="radio" value="1" name="rating" id="rate1" /><label
            for="rate1"
            id="rateLabel1"
            >1</label
          >
        </div>
        <div style="display: flex; justify-content: center; width: 350px">
          <p></p>
          1.- Pésimo
        </div>
        <div style="display: flex; justify-content: center; width: 350px">
          <p></p>
          5.- Excelente
        </div>
      </div>

      <div class="box">
        <div style="width: 825px">
          <h3>¿Que tan dificil fue la materia con este profesor? *</h3>
        </div>
        <div class="inverserating">
          <input
            type="radio"
            value="5"
            name="difficulty"
            id="difficulty5"
            required
          /><label for="difficulty5" id="rateLabel5">5</label>
          <input
            type="radio"
            value="4"
            name="difficulty"
            id="difficulty4"
          /><label for="difficulty4">4</label>
          <input
            type="radio"
            value="3"
            name="difficulty"
            id="difficulty3"
          /><label for="difficulty3">3</label>
          <input
            type="radio"
            value="2"
            name="difficulty"
            id="difficulty2"
          /><label for="difficulty2">2</label>
          <input
            type="radio"
            value="1"
            name="difficulty"
            id="difficulty1"
          /><label for="difficulty1" id="rateLabel1">1</label>
        </div>
        <div style="display: flex; justify-content: center; width: 350px">
          <p></p>
          1.- Muy fácil
        </div>
        <div style="display: flex; justify-content: center; width: 350px">
          <p></p>
          5.- Muy difícil
        </div>
      </div>

      <div class="box">
        <div style="width: 825px">
          <h3>¿Volverías a tomar clase con este profesor? *</h3>
        </div>
        <label for="q1true" style="margin: 0 30px 0 30px">
          <input
            value="true"
            id="q1true"
            class="greencheckmark"
            type="radio"
            name="question1"
            required
          />
        </label>
        <label for="q1false" style="margin: 0 30px 0 30px">
          <input
            value="false"
            id="q1false"
            class="redcheckmark"
            type="radio"
            name="question1"
          />
        </label>
      </div>

      <div class="box">
        <div style="width: 825px">
          <h3>¿Este profesor usa libros de texto? *</h3>
        </div>
        <label for="q2true" style="margin: 0 30px 0 30px">
          <input
            value="true"
            id="q2true"
            class="greencheckmark"
            type="radio"
            name="question2"
            required
          />
        </label>
        <label for="q2false" style="margin: 0 30px 0 30px">
          <input
            value="false"
            id="q2false"
            class="redcheckmark"
            type="radio"
            name="question2"
          />
        </label>
      </div>

      <div class="box">
        <div style="width: 825px">
          <h3>¿Fue obligatoria la asistencia? *</h3>
        </div>
        <label for="q3true" style="margin: 0 30px 0 30px">
          <input
            value="true"
            id="q3true"
            class="greencheckmark"
            type="radio"
            name="question3"
            required
          />
        </label>
        <label for="q3false" style="margin: 0 30px 0 30px">
          <input
            value="false"
            id="q3false"
            class="redcheckmark"
            type="radio"
            name="question3"
          />
        </label>
      </div>

      <div class="box">
        <div style="width: 825px">
          <h3>Selecciona tu calificación obtenida *</h3>
        </div>
        <div class="custom-select">
          <select id="grade" style="font-size: 20px" required>
            <option value="" selected disabled hidden>
              Seleccionar calificación
            </option>
            <option value="10">10</option>
            <option value="9">9</option>
            <option value="8">8</option>
            <option value="7">7</option>
            <option value="6">6</option>
            <option value="5">Reprobado</option>
          </select>
        </div>
      </div>

      <div class="box container">
        <div style="width: 800px"><h3>Selecciona de 1 a 3 tarjetas *</h3></div>
        <div>
          <label>
            <input
              id="chk1"
              value="Estricto calificando"
              type="checkbox"
              name="chk"
              onclick="return limitCheckboxes()"
            />
            <span>Estricto calificando</span>
          </label>
        </div>

        <div>
          <label>
            <input
              id="chk2"
              value="La participación cuenta"
              type="checkbox"
              name="chk"
              onclick="return limitCheckboxes()"
            />
            <span>La participación cuenta</span>
          </label>
        </div>
        <div>
          <label>
            <input
              id="chk3"
              value="Accesibble fuera de clase"
              type="checkbox"
              name="chk"
              onclick="return limitCheckboxes()"
            />
            <span>Accesible fuera de clase</span>
          </label>
        </div>
        <div>
          <label>
            <input
              id="chk4"
              value="Buenos criterios para evaluar"
              type="checkbox"
              name="chk"
              onclick="return limitCheckboxes()"
            />
            <span>Buenos criterios para evaluar</span>
          </label>
        </div>
        <div>
          <label>
            <input
              id="chk5"
              value="Entrega buena retroalimentación"
              type="checkbox"
              name="chk"
              onclick="return limitCheckboxes()"
            />
            <span>Entrega buena retroalimentación</span>
          </label>
        </div>
        <div>
          <label>
            <input
              id="chk6"
              value="Inspiracional"
              type="checkbox"
              name="chk"
              onclick="return limitCheckboxes()"
            />
            <span>Inspiracional</span>
          </label>
        </div>
        <div>
          <label>
            <input
              id="chk7"
              value="Mucha tarea"
              type="checkbox"
              name="chk"
              onclick="return limitCheckboxes()"
            />
            <span>Mucha tarea</span>
          </label>
        </div>
        <div>
          <label>
            <input
              id="chk8"
              value="Simpático"
              type="checkbox"
              name="chk"
              onclick="return limitCheckboxes()"
            />
            <span>Simpático</span>
          </label>
        </div>
        <div>
          <label>
            <input
              id="chk9"
              value="Exámenes difíciles"
              type="checkbox"
              name="chk"
              onclick="return limitCheckboxes()"
            />
            <span>Exámenes difíciles</span>
          </label>
        </div>
        <div>
          <label>
            <input
              id="chk10"
              value="Se preocupa por los estudiantes"
              type="checkbox"
              name="chk"
              onclick="return limitCheckboxes()"
            />
            <span>Se preocupa por los estudiantes</span>
          </label>
        </div>
        <div>
          <label>
            <input
              id="chk11"
              value="Respetuoso"
              type="checkbox"
              name="chk"
              onclick="return limitCheckboxes()"
            />
            <span>Respetuoso</span>
          </label>
        </div>

        <div>
          <label>
            <input
              id="chk12"
              value="Muchos exámenes"
              type="checkbox"
              name="chk"
              onclick="return limitCheckboxes()"
            />
            <span>Muchos exámenes</span>
          </label>
        </div>
      </div>

      <div class="box">
        <div style="width: 825px"><h3>Escribe una opinión</h3></div>
        <div>
          <p style="font-size: 16px; justify-content: left">
            Discute las habilidades profesionales del profesor incluyendo el
            estilo de enseñar, entre otras cosas:
          </p>
        </div>
        <textarea
          id="opinion"
          class="textarea"
          maxlength="500"
          placeholder="¿Qué quieres que otros estudiantes sepan acerca de este profesor?"
        ></textarea>
      </div>

      <div style="overflow: auto">
        <div class="MyBtn">
          <button id="prevBtn" type="button" onclick="getPrev(-1);">
            Previous
          </button>
          <button id="nextBtn" type="button" onclick="getNext(1);">
            Next
          </button>
        </div>
      </div>

      <div style="text-align: center">
        <span class="step"></span>
        <span class="step"></span>
        <span class="step"></span>
        <span class="step"></span>
        <span class="step"></span>
        <span class="step"></span>
        <span class="step"></span>
        <span class="step"></span>
        <span class="step"></span>
      </div>

    </form>

    <script type="text/javascript">
      function limitCheckboxes() {
        var checkboxes = document.getElementsByName("chk");
        var n = 0;

        for (let i = 0; i < checkboxes.length; i++) {
          if (checkboxes[i].checked == true) {
            n++;
          }
        }

        if (n > 3) {
          return false;
        }
      }
    </script>

    <script>
      var currentTab = 0;
      showTab(currentTab);

      function showTab(n) {
        var x = document.getElementsByClassName("box");
        x[n].style.display = "flex";

        if (n == 0) {
          document.getElementById("prevBtn").style.display = "none";
        } else {
          document.getElementById("prevBtn").style.display = "inline";
        }

        if (n == x.length - 1) {
          document.getElementById("nextBtn").innerHTML = "Submit";
        } else {
          document.getElementById("nextBtn").innerHTML = "Next";
          document.getElementById("nextBtn").style.background = "#424242";
        }

        fixStepIndicator(n);
      }

      function getNext(n) {
        var x = document.getElementsByClassName("box");
        if (!validateForm()) return false;
        x[currentTab].style.display = "none";
        currentTab = currentTab + n;
        if (currentTab >= x.length) {
          document.getElementById("nextBtn").onclick = getAnswers();
          document.getElementById("regForm").submit();
          return false;
        }
        showTab(currentTab);
      }

      function getPrev(n) {
        var x = document.getElementsByClassName("box");
        x[currentTab].style.display = "none";
        currentTab = currentTab + n;
        showTab(currentTab);
      }

      
      function validateForm() {
        var x,
          y,
          z,
          valid = true;
        x = document.getElementsByClassName("box");
        y = x[currentTab].getElementsByTagName("select");
        z = x[currentTab].getElementsByTagName("input");
  
     
        for (let i = 0; i < y.length; i++) {
          if (y[i].value == "") {  
            y[i].className += " invalid";
            valid = false;
          }
        }

        if(y.length==0){
        for(let i =0; i<z.length;i++){
          if(z[i].checked)
          break;
          if(i==z.length-1)
          valid=false;
        }
        }
   
        if (valid) {
          document.getElementsByClassName("step")[currentTab].className +=
            " finish";
        }
        return valid;
      }

      function fixStepIndicator(n) {
        var i,
          x = document.getElementsByClassName("step");
        for (i = 0; i < x.length; i++) {
          x[i].className = x[i].className.replace(" active", "");
        }
        x[n].className += " active";
      }

      document.getElementById("nextBtn").onmouseover = function () {mouseOver()};
      function mouseOver(){
        if(!validateForm()){
        document.getElementById("nextBtn").style.background = "#990404"
         
      } else {
        document.getElementById("nextBtn").style.background = "#04BB30";
      }}
      document.getElementById("nextBtn").onmouseout = function () {mouseOut()};
      function mouseOut(){
        document.getElementById("nextBtn").style.background = "#424242"
      }
    </script>
  </body>
</html>
